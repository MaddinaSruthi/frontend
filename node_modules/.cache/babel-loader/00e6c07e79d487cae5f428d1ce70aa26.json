{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\MaddinaSruthi\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\MaddinaSruthi\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport axios from \"axios\";\nimport { GET_ERRORS, GET_SESSION } from \"./types\";\nexport var getSession = function getSession() {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.get(\"/api/getSession\");\n\n            case 2:\n              res = _context.sent;\n              dispatch({\n                type: GET_SESSION,\n                payload: res.data\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var userLogin = function userLogin(userDetail, history) {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return axios.post(\"/api/login\", userDetail);\n\n            case 3:\n              window.location.replace(\"/dashboard\");\n              _context2.next = 9;\n              break;\n\n            case 6:\n              _context2.prev = 6;\n              _context2.t0 = _context2[\"catch\"](0);\n              dispatch({\n                type: GET_ERRORS,\n                payload: _context2.t0.response.data\n              });\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 6]]);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport var destroySession = function destroySession() {\n  return /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n    var res;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return axios.get(\"/api/logout\");\n\n          case 2:\n            res = _context3.sent;\n            window.location.replace(\"/\");\n\n          case 4:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n};","map":{"version":3,"sources":["C:/MaddinaSruthi/frontend/src/actions/userSession.jsx"],"names":["axios","GET_ERRORS","GET_SESSION","getSession","dispatch","get","res","type","payload","data","userLogin","userDetail","history","post","window","location","replace","response","destroySession"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,SAAxC;AAEA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa;AAAA;AAAA,wEAAM,iBAAOC,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACZJ,KAAK,CAACK,GAAN,CAAU,iBAAV,CADY;;AAAA;AACxBC,cAAAA,GADwB;AAG9BF,cAAAA,QAAQ,CAAC;AACPG,gBAAAA,IAAI,EAAEL,WADC;AAEPM,gBAAAA,OAAO,EAAEF,GAAG,CAACG;AAFN,eAAD,CAAR;;AAH8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAN;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAnB;AASP,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,UAAD,EAAaC,OAAb;AAAA;AAAA,yEAAyB,kBAAOR,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAExCJ,KAAK,CAACa,IAAN,CAAW,YAAX,EAAyBF,UAAzB,CAFwC;;AAAA;AAG9CG,cAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,YAAxB;AAH8C;AAAA;;AAAA;AAAA;AAAA;AAK9CZ,cAAAA,QAAQ,CAAC;AACPG,gBAAAA,IAAI,EAAEN,UADC;AAEPO,gBAAAA,OAAO,EAAE,aAAMS,QAAN,CAAeR;AAFjB,eAAD,CAAR;;AAL8C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAzB;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAlB;AAYP,OAAO,IAAMS,cAAc,GAAG,SAAjBA,cAAiB;AAAA,+EAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAChBlB,KAAK,CAACK,GAAN,CAAU,aAAV,CADgB;;AAAA;AAC5BC,YAAAA,GAD4B;AAElCQ,YAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,GAAxB;;AAFkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAN;AAAA,CAAvB","sourcesContent":["import axios from \"axios\";\nimport { GET_ERRORS, GET_SESSION } from \"./types\";\n\nexport const getSession = () => async (dispatch) => {\n  const res = await axios.get(\"/api/getSession\");\n\n  dispatch({\n    type: GET_SESSION,\n    payload: res.data,\n  });\n};\n\nexport const userLogin = (userDetail, history) => async (dispatch) => {\n  try {\n    await axios.post(\"/api/login\", userDetail);\n    window.location.replace(\"/dashboard\");\n  } catch (error) {\n    dispatch({\n      type: GET_ERRORS,\n      payload: error.response.data,\n    });\n  }\n};\n\nexport const destroySession = () => async () => {\n  const res = await axios.get(\"/api/logout\");\n  window.location.replace(\"/\");\n};\n"]},"metadata":{},"sourceType":"module"}